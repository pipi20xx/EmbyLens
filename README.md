# Lens

**å…¨èƒ½å‹ Emby åª’ä½“åº“æ·±åº¦ç®¡ç†ä¸è‡ªåŠ¨åŒ–ç»´æŠ¤å·¥å…·ç®±**

Lens æ˜¯ä¸€æ¬¾ä¸“ä¸ºç§æœ‰äº‘åª’ä½“æœåŠ¡å™¨è®¾è®¡çš„ç»¼åˆç®¡ç†å¹³å°ã€‚å®ƒé›†æˆäº†å…ƒæ•°æ®å‡€åŒ–ã€æ¼”å‘˜ç»´æŠ¤ã€æ™ºèƒ½å»é‡ã€æ·±åº¦æœç´¢åŠ Webhook è”åŠ¨ç­‰å¤šé¡¹åŸå­åŒ–å·¥å…·ï¼Œæ—¨åœ¨ä¸º Emby ç”¨æˆ·æä¾›ä¸€ä¸ªé«˜æ•ˆã€é€æ˜ä¸”è‡ªåŠ¨åŒ–çš„è¿ç»´ç¯å¢ƒã€‚

---

## ğŸ› ï¸ æ ¸å¿ƒåŠŸèƒ½çŸ©é˜µ (åŸºäºåŸå­åŒ–å¯¼èˆª)

Lens çš„æ¯ä¸€é¡¹åŠŸèƒ½éƒ½ä»¥ç‹¬ç«‹å·¥å…·çš„å½¢å¼å­˜åœ¨ï¼Œä½ å¯ä»¥é€šè¿‡ä¾§è¾¹æ å¿«é€Ÿåˆ‡æ¢ï¼š

### ğŸ“Š ç®¡ç†ä»ªè¡¨ç›˜ (Dashboard)
*   **æ¦‚è§ˆç»Ÿè®¡**ï¼šç›´è§‚å±•ç¤ºåª’ä½“åº“çš„èµ„æºæ€»é‡ã€åº“æ•°é‡ã€ç³»ç»Ÿè¿è¡ŒçŠ¶æ€ã€‚
*   **å®¡è®¡æµæ°´**ï¼šè®°å½•æœ€è¿‘çš„ç»´æŠ¤æ“ä½œï¼Œç¡®ä¿ç³»ç»Ÿå˜åŠ¨å¯è¿½æº¯ã€‚

### ğŸ  ç«™ç‚¹å¯¼èˆªé¡µ (Site Navigation)
*   **æ²‰æµ¸å¼ç®¡ç†**ï¼šæ”¯æŒåœ¨å¯¼èˆªé¡µç›´æ¥è¿›è¡Œç®¡ç†ã€‚**é¼ æ ‡å³é”®**ç‚¹å‡»å¡ç‰‡å³å¯ç¼–è¾‘æˆ–åˆ é™¤ç«™ç‚¹ï¼Œ**æ‚¬åœ**åœ¨åˆ†ç±»æ ‡é¢˜ä¸Šå³å¯å¿«é€Ÿæ·»åŠ ç«™ç‚¹ã€‚
*   **æ™ºèƒ½æ‹–æ‹½æ’åº**ï¼šæ”¯æŒå¯¹ç«™ç‚¹å¡ç‰‡å’Œåˆ†ç±»åŒºå—è¿›è¡Œç‰©ç†æ‹–æ‹½æ’åºï¼Œå³æ—¶ç”Ÿæ•ˆï¼Œè‡ªåŠ¨ä¿å­˜ã€‚
*   **æœ¬åœ°å›¾æ ‡ç¼“å­˜**ï¼šå†…ç½®å›¾æ ‡æŠ“å–å¼•æ“ï¼Œè‡ªåŠ¨ä¸‹è½½å¹¶ç¼“å­˜ç«™ç‚¹å›¾æ ‡è‡³æœ¬åœ°æœåŠ¡å™¨ï¼Œå½»åº•è§£å†³å›¾ç‰‡é˜²ç›—é“¾é—®é¢˜ï¼Œç¡®ä¿ç¦»çº¿ç¯å¢ƒä¸‹çš„è§†è§‰ä¸€è‡´æ€§ã€‚
*   **å…¨é‡å¤‡ä»½ä¸æ¢å¤**ï¼šæ”¯æŒå¯¼å‡ºåŒ…å«æ‰€æœ‰åˆ†ç±»ã€ç«™ç‚¹é…ç½®åŠ**æœ¬åœ°å›¾æ ‡æ–‡ä»¶**åœ¨å†…çš„å…¨é‡å‹ç¼©åŒ… (.zip)ï¼Œä¸€é”®å®Œæˆæ•°æ®è¿ç§»æˆ–æ¢å¤ã€‚
*   **è‡ªåŠ¨åƒåœ¾å›æ”¶**ï¼šåç«¯å®æ—¶ç›‘æ§å›¾æ ‡å¼•ç”¨çŠ¶æ€ï¼Œè‡ªåŠ¨æ¸…ç†ç£ç›˜ä¸Šä¸å†è¢«ä»»ä½•ç«™ç‚¹ä½¿ç”¨çš„å­¤å„¿å›¾ç‰‡ï¼Œä¿æŒå­˜å‚¨ç©ºé—´æ•´æ´ã€‚
*   **é«˜å¯†åº¦å¸ƒå±€**ï¼šé‡‡ç”¨ç´§å‡‘çš„å·¦å³ç»“æ„è®¾è®¡ï¼Œæ”¯æŒè‡ªåŠ¨æ¢è¡Œï¼Œé€‚é…å„ç§å±å¹•å°ºå¯¸ã€‚
*   **å¿«æ·è®¿é—®**ï¼šæ”¯æŒé€šè¿‡ `/home` è·¯å¾„ï¼ˆå¦‚ `http://ip:6565/home`ï¼‰æ— è§†é¡µé¢è®°å¿†ç›´æ¥è¿›å…¥å¯¼èˆªé¡µï¼Œé€‚åˆä½œä¸ºæµè§ˆå™¨é¦–é¡µã€‚

### ğŸ³ Docker æ·±åº¦è¿ç»´ç®¡ç† (Docker Manager)
*   **å¤šæœºçº³ç®¡**ï¼šæ”¯æŒ **SSH** ç®¡ç†å¤šå°è¿œç¨‹æœåŠ¡å™¨ï¼Œæ”¯æŒä¸»æœºé…ç½®çš„æŒä¹…åŒ–è®°å¿†ä¸ç¼–è¾‘ã€‚
*   **å®¹å™¨ç”Ÿå‘½å‘¨æœŸ**ï¼šæ”¯æŒå®¹å™¨å¯åŠ¨ã€åœæ­¢ã€é‡å¯ã€åˆ é™¤åŠå®æ—¶æ—¥å¿—æŸ¥çœ‹ï¼›çŠ¶æ€æ˜¾ç¤ºå·²å…¨é¢ä¸­æ–‡æœ¬åœ°åŒ–ã€‚
*   **äº¤äº’å¼ç»ˆç«¯ (Terminal)**ï¼šé›†æˆ **xterm.js**ï¼Œæ”¯æŒä¸€é”®è¿›å…¥å®¹å™¨å†…éƒ¨ç»ˆç«¯ï¼Œé¢„è®¾ `bash`ã€`sh`ã€`ash` å¤šç§ Shell æ–¹æ¡ˆï¼Œæ”¯æŒå…¨åŒå·¥å®æ—¶äº¤äº’ã€‚
*   **ç¯å¢ƒæ£€æµ‹ä¸ä¿®å¤**ï¼š
    *   **å®æ—¶æ£€æµ‹**ï¼šè‡ªåŠ¨æ¢æµ‹è¿œç¨‹ä¸»æœºçš„ Docker ç‰ˆæœ¬ã€Compose ç‰ˆæœ¬ã€OS å†…æ ¸åŠæœåŠ¡è¿è¡ŒçŠ¶æ€ã€‚
    *   **ä¸€é”®ä¿®å¤/å®‰è£…**ï¼šæ”¯æŒåœ¨è¿œç¨‹ä¸»æœºä¸Šä¸€é”®è‡ªåŠ¨åŒ–å®‰è£… Docker åŠ Compose ç¯å¢ƒã€‚
    *   **çµæ´»ä»£ç†**ï¼šå®‰è£…è¿‡ç¨‹æ”¯æŒè‡ªå®šä¹‰ **HTTP/HTTPS ä»£ç†**ï¼Œå¹¶å†…ç½®é˜¿é‡Œäº‘é•œåƒåŠ é€Ÿï¼Œç¡®ä¿æé€Ÿéƒ¨ç½²ã€‚
    *   **æ ¸å¿ƒæœåŠ¡æ§åˆ¶**ï¼šæ”¯æŒåœ¨ç½‘é¡µç«¯ç›´æ¥å¯¹è¿œç¨‹ä¸»æœºçš„ Docker å®ˆæŠ¤è¿›ç¨‹æ‰§è¡Œå¯åŠ¨ã€åœæ­¢ã€é‡å¯æ“ä½œã€‚
*   **æ™ºèƒ½æ›´æ–° (Update)**ï¼šä¸€é”®æ‹‰å–æœ€æ–°é•œåƒå¹¶è‡ªåŠ¨é‡æ„å®¹å™¨ã€‚
*   **Compose ç®¡ç†**ï¼šå†…ç½®ç®¡ç†å™¨ï¼Œæ”¯æŒ YAML åœ¨çº¿ç¼–è¾‘ã€ç›®å½•æ‰«æã€é¡¹ç›®è®°å¿†åŠæŒ‰åç§°å›ºå®šæ’åºã€‚
    *   **å®æ—¶è¯­æ³•æ ¡éªŒ**ï¼šé›†æˆ `js-yaml`ï¼Œç¼–è¾‘æ—¶è‡ªåŠ¨è¿›è¡Œè¯­æ³•æ£€æµ‹å¹¶æä¾›**ä¸­æ–‡é”™è¯¯æç¤º**ï¼ˆå«è¡Œå·ã€åˆ—å·ï¼‰ã€‚
*   **æ‰¹é‡æ“ä½œ**ï¼šæ”¯æŒä¸€é”®å¯¹ä¸»æœºä¸‹æ‰€æœ‰é¡¹ç›®æ‰§è¡Œâ€œæ‰¹é‡å¯åŠ¨/æ›´æ–°â€æˆ–â€œæ‰¹é‡åœæ­¢â€æ“ä½œã€‚
*   **é…ç½®ä¸­å¿ƒ (Configuration)**ï¼š
    *   **Daemon ç»´æŠ¤**ï¼šå¯è§†åŒ–é…ç½® `/etc/docker/daemon.json`ï¼ŒåŒ…æ‹¬é•œåƒåŠ é€Ÿå™¨ (`registry-mirrors`)ã€HTTP/HTTPS ä»£ç† (`proxies`)ã€æ—¥å¿—åˆ‡å‰²è§„åˆ™åŠ `live-restore`ã€‚
    *   **åŒé‡å¤‡ä»½**ï¼šä¿®æ”¹é…ç½®å‰è‡ªåŠ¨ç”Ÿæˆè¿œç¨‹ `.bak` æ–‡ä»¶å¹¶åŒæ­¥å¤‡ä»½è‡³æœ¬åœ° `data` ç›®å½•ã€‚
    *   **ä¸€é”®æ¸…ç†**ï¼šæ”¯æŒæ¸…ç†æœªæ ‡ç­¾é•œåƒ (Dangling)ã€æœªä½¿ç”¨é•œåƒ (Unused) åŠæ„å»ºç¼“å­˜ã€‚
*   **ä¾¿æ·è·³è½¬**ï¼šè‡ªåŠ¨è§£æç«¯å£æ˜ å°„ï¼Œé’ˆå¯¹ Host æ¨¡å¼è‡ªå®šä¹‰ç«¯å£å®ç°ä¸€é”®è®¿é—®ã€‚

### ğŸ˜ PostgreSQL è¿ç»´ç®¡ç† (PostgreSQL Manager)
*   **å¤šå®ä¾‹çº³ç®¡**ï¼šæ”¯æŒåŒæ—¶ç»´æŠ¤å¤šä¸ª PostgreSQL æœåŠ¡å™¨é…ç½®ï¼Œæ”¯æŒæŒä¹…åŒ–è®°å¿†ã€**åœ¨çº¿ç¼–è¾‘**ä¸ä¸€é”®åˆ‡æ¢ã€‚
*   **æ•°æ®åº“å…¨ç”Ÿå‘½å‘¨æœŸ**ï¼š
    -   **æ¦‚è§ˆå±•ç¤º**ï¼šç›´è§‚åˆ—å‡ºæ‰€æœ‰éæ¨¡æ¿æ•°æ®åº“åŠå…¶æ‰€æœ‰è€… (Owner) ä¸å¤‡æ³¨è¯´æ˜ã€‚
    -   **ç¼–è¾‘ç»´æŠ¤**ï¼šæ”¯æŒåœ¨çº¿ä¿®æ”¹æ•°æ®åº“æ‰€æœ‰è€…åŠæ·»åŠ /æ›´æ–°æ•°æ®åº“æ³¨é‡Š (Comment)ã€‚
    -   **å®‰å…¨ç®¡ç†**ï¼šåˆ›å»ºæ•°æ®åº“æ—¶æ”¯æŒæŒ‡å®šæ‰€æœ‰è€…ï¼›åˆ é™¤åº“æ—¶è‡ªåŠ¨æ‰§è¡Œä¼šè¯å¼ºè¸¢é€»è¾‘ï¼Œç¡®ä¿è¿ç»´æ— é˜»ç¢ã€‚
*   **å¤‡ä»½ä¸è¿˜åŸ (Backup & Restore)**ï¼š
    -   **é€»è¾‘å¤‡ä»½**ï¼šé›†æˆ `pg_dump`ï¼Œæ”¯æŒä¸€é”®ç”Ÿæˆ `.bak` æ ¼å¼ï¼ˆè‡ªå®šä¹‰å‹ç¼©æ ¼å¼ï¼‰çš„ç‰©ç†éš”ç¦»å¤‡ä»½æ–‡ä»¶ã€‚
    -   **æé€Ÿè¿˜åŸ**ï¼šé›†æˆ `pg_restore`ï¼Œæ”¯æŒä»å†å²å¤‡ä»½åˆ—è¡¨é€‰æ‹©æ–‡ä»¶è¿›è¡Œè¿˜åŸã€‚è¿˜åŸè¿‡ç¨‹è‡ªåŠ¨åŒ–å¤„ç†ï¼šå¼ºåˆ¶æ–­å¼€è¿æ¥ -> é‡å»ºæ•°æ®åº“ -> æ¢å¤æ•°æ®ã€‚
    -   **æ–‡ä»¶ç®¡ç†**ï¼šæ”¯æŒå¯¹å¤‡ä»½æ–‡ä»¶è¿›è¡Œç®¡ç†ä¸åˆ é™¤ï¼Œæ‰€æœ‰æ–‡ä»¶æŒä¹…åŒ–å­˜å‚¨äº `data/backups/pg`ã€‚
*   **ä¸“ä¸šçº§è§’è‰²ç®¡ç†**ï¼š
    -   **ç²¾ç®€è§†å›¾**ï¼šè‡ªåŠ¨è¿‡æ»¤ç³»ç»Ÿçº§è§’è‰² (pg_*)ï¼Œä»…å±•ç¤ºä¸šåŠ¡ç›¸å…³è§’è‰²ã€‚
    -   **å…¨é‡æƒé™æ§åˆ¶**ï¼šæ”¯æŒå¯¹è§’è‰²è¿›è¡Œ `LOGIN`ã€`SUPERUSER`ã€`CREATEDB`ã€`CREATEROLE`ã€`INHERIT`ã€`REPLICATION` åŠ `BYPASSRLS` çš„ç²¾ç»†åŒ–å‹¾é€‰ã€‚
    -   **è¿æ¥ä¸å®‰å…¨**ï¼šæ”¯æŒè®¾ç½® `CONNECTION LIMIT` åŠ `VALID UNTIL`ï¼ˆè´¦æˆ·æœ‰æ•ˆæœŸï¼‰ï¼Œå¹¶æä¾›ä¾¿æ·çš„å¯†ç é‡ç½®åŠŸèƒ½ã€‚
*   **æ•°æ®æµè§ˆå™¨ (Data Browser)**ï¼š
    -   **å¤šåº“ç©¿é€**ï¼šæ”¯æŒåœ¨åŒä¸€ä¸»æœºä¸‹è‡ªç”±åˆ‡æ¢æ•°æ®åº“ä»¥æµè§ˆä¸åŒåº“çš„è¡¨ç»“æ„ã€‚
    -   **åŠ¨æ€ç½‘æ ¼**ï¼šè‡ªåŠ¨è§£æè¡¨ç»“æ„ï¼Œæ ¹æ® `columns` å®šä¹‰åŠ¨æ€ç”Ÿæˆæ•°æ®ç½‘æ ¼ï¼Œæ”¯æŒæŸ¥çœ‹æ™®é€šè¡¨ã€è§†å›¾åŠå¤–è¡¨ã€‚
        - **å·¥ä¸šçº§åˆ†é¡µ**ï¼šæ”¯æŒå¤§è§„æ¨¡æ•°æ®åˆ†é¡µåŠ è½½ï¼Œç¡®ä¿æé€Ÿå“åº”ã€‚
    
    ### ğŸ“¦ æ•°æ®å¤‡ä»½ç®¡ç† (Backup Manager)
    *   **å¤šæ¨¡å¼å¤‡ä»½æ”¯æŒ**ï¼š
        *   **7z å‹ç¼©**ï¼šæ”¯æŒ 1-9 çº§å‹ç¼©å¼ºåº¦è°ƒèŠ‚ï¼Œæ”¯æŒ AES-256 æ–‡ä»¶ååŠå†…å®¹åŠ å¯†ã€‚
        *   **Tar æ‰“åŒ…**ï¼šæ ‡å‡†çš„ Linux æ‰“åŒ…æ¨¡å¼ï¼Œå…·å¤‡æé«˜çš„å…¼å®¹æ€§ã€‚
        *   **ç‰©ç†åŒæ­¥ (Sync)**ï¼šæä¾›**é•œåƒ (Mirror)** ä¸ **å¢é‡ (Incremental)** ä¸¤ç§ç­–ç•¥ã€‚
    *   **ç¡¬ä»¶æ„ŸçŸ¥ä¼˜åŒ–**ï¼š
        *   **SSD æ¨¡å¼**ï¼šå¼€å¯å…¨ç«åŠ›å¤šçº¿ç¨‹å¹¶è¡Œå¤„ç†ï¼Œå‹æ¦¨æè‡´å¸¦å®½ã€‚
        *   **HDD ä¿æŠ¤**ï¼šè‡ªåŠ¨é™åˆ¶å¹¶å‘çº¿ç¨‹ï¼ˆmax=2ï¼‰ï¼Œå‡å°‘ç£å¤´é¢‘ç¹å¯»å€ï¼Œä¿æŠ¤æœºæ¢°ç¡¬ç›˜å¯¿å‘½ã€‚
        *   **äº‘ç›˜ä¼˜åŒ– (Cloud)**ï¼šé’ˆå¯¹ Rclone/CloudDrive2 æŒ‚è½½ç‚¹ï¼Œé‡‡ç”¨â€œ**æœ¬åœ°ä¸­è½¬ -> é¡ºåºä¸Šä¼ **â€é€»è¾‘ï¼Œè‡ªåŠ¨å¯ç”¨ `--size-only` ç­–ç•¥ï¼Œè§„é¿ API é¢‘ç‡é™åˆ¶å¹¶é˜²æ­¢ FUSE å´©æºƒã€‚
    *   **æ™ºèƒ½è¿‡æ»¤å¼•æ“**ï¼š
        *   åŸºäº **Top-down é¢„æ‰«æ** æœºåˆ¶ï¼Œå†…ç½® `node_modules`ã€`.git`ã€`__pycache__` ç­‰å¸¸ç”¨è¿‡æ»¤é¢„è®¾ï¼Œå‹ç¼©å‰è‡ªåŠ¨ç”Ÿæˆä»»åŠ¡æ¸…å•ã€‚
    *   **è‡ªåŠ¨åŒ–è¿è¡Œè®¡åˆ’**ï¼šæ”¯æŒâ€œæ¯å¤©å›ºå®šæ—¶é—´â€ã€â€œå›ºå®šé—´éš”é¢‘ç‡â€åŠè‡ªå®šä¹‰ Cron è¡¨è¾¾å¼ã€‚
    *   **å®‰å…¨è¿˜åŸä½“ç³»**ï¼šæ”¯æŒâ€œè¦†ç›–è¿˜åŸâ€ä¸â€œæ¸…ç©ºè¿˜åŸâ€åŒæ¨¡å¼ï¼Œæä¾›å¤‡ä»½å†å²è®°å½•æº¯æºã€‚
    
    ### â™»ï¸ é‡å¤é¡¹æ¸…ç† (Dedupe Ultimate)
*   **å¤šç»´åº¦æŸ¥é‡**ï¼šç²¾å‡†è¯†åˆ«é‡å¤çš„ç”µå½±ã€å‰§é›†ã€‚
*   **æ™ºèƒ½ä¼˜é€‰**ï¼šåŸºäºåˆ†è¾¨ç‡ã€ç¼–ç ã€åŠ¨æ€èŒƒå›´è‡ªåŠ¨è¯„ä¼°ç‰ˆæœ¬ä¼˜åŠ£ã€‚
*   **å®‰å…¨åˆ é™¤**ï¼šæ”¯æŒä¸€é”®æ¸…ç†å†—ä½™æ–‡ä»¶ï¼Œé‡Šæ”¾å­˜å‚¨ç©ºé—´ï¼Œå¹¶è‡ªåŠ¨æ›´æ–° Emby ç´¢å¼•ã€‚

### ğŸ·ï¸ è‡ªåŠ¨æ ‡ç­¾åŠ©æ‰‹ (Auto Tags)
*   **è§„åˆ™å¼•æ“**ï¼šè‡ªå®šä¹‰åŒ¹é…è§„åˆ™ï¼ˆåŸºäºå›½å®¶ã€æµæ´¾ã€å¹´ä»½ï¼‰ï¼Œå…¨è‡ªåŠ¨ä¸ºåª’ä½“æ‰“ä¸Šä¸ªæ€§åŒ–æ ‡ç­¾ã€‚
*   **å®æ—¶ Webhook**ï¼šæ”¯æŒè”åŠ¨ Emby Webhookï¼Œæ–°åª’ä½“å…¥åº“æ—¶ç§’çº§å®Œæˆè‡ªåŠ¨åŒ–æ‰“æ ‡ã€‚
*   **é€æ˜å·¥ä½œæµ**ï¼šè¯¦å°½å±•ç¤º TMDB æ•°æ®æŠ“å–ä¸è§„åˆ™åŒ¹é…è¿‡ç¨‹ï¼Œæ‹’ç»é»‘ç®±æ“ä½œã€‚

### ğŸ”€ ç±»å‹æ˜ å°„ç®¡ç† (Type Manager)
*   **æ ‡ç­¾å‡€åŒ–**ï¼šå°† Emby åŸå§‹æ‚ä¹±çš„æµæ´¾ï¼ˆGenreï¼‰æ˜ å°„ä¸ºç»Ÿä¸€ã€å¹²å‡€çš„å±•ç¤ºæ ‡ç­¾ã€‚

### ğŸ§¹ åª’ä½“å‡€åŒ–æ¸…ç† (Cleanup)
*   **æ‰¹é‡å‰”é™¤**ï¼šä¸€é”®ç§»é™¤ç‰¹å®šçš„æ ‡ç­¾ã€æµæ´¾æˆ–æ— æ•ˆçš„æ¼”å‘˜ä¿¡æ¯ï¼Œä¿æŒåª’ä½“åº“æ•´æ´ã€‚

### ğŸ”’ å…ƒæ•°æ®é”å®šå™¨ (Lock Manager)
*   **çŠ¶æ€æ§åˆ¶**ï¼šæ‰¹é‡é”å®šæˆ–è§£é”åª’ä½“å­—æ®µï¼ˆå¦‚æ ‡ç­¾ã€å°é¢ï¼‰ï¼Œé˜²æ­¢ Emby æ‰«ææ—¶è¦†ç›–æ‰‹åŠ¨ä¿®æ”¹çš„å†…å®¹ã€‚

### ğŸ” é¡¹ç›®å…ƒæ•°æ®æŸ¥è¯¢ (Item Query)
*   **æ·±åº¦é€è§†**ï¼šç›´æ¥è°ƒå– Emby å†…éƒ¨åŸå§‹ JSON å“åº”ï¼Œæ–¹ä¾¿å¼€å‘è€…è°ƒè¯•ä¸æ£€æŸ¥åº•å±‚å…ƒæ•°æ®ã€‚

### ğŸ¯ å‰§é›† TMDB åæŸ¥ (Reverse Lookup)
*   **æº¯æºè¿½è¸ª**ï¼šæ ¹æ®å•é›†æ–‡ä»¶ IDï¼Œè‡ªåŠ¨å®šä½å…¶æ‰€å±å‰§é›†çš„ TMDB ç»‘å®šçŠ¶æ€ã€‚

### ğŸ” TMDB ID æ·±åº¦æœç´¢ (Deep Search)
*   **è·¨ç±»å‹ç´¢å¼•**ï¼šå…¨åº“æ‰«æåŒ¹é…æŒ‡å®š TMDB IDï¼Œæ”¯æŒå¿«é€Ÿå®šä½ç‰¹å®šèµ„æºçš„å­˜å‚¨ä½ç½®ã€‚

### ğŸ§ª TMDB å®éªŒä¸­å¿ƒ (TMDB Lab)
*   **å…¨è¯­è¨€æ·±åº¦æŠ“å–**ï¼šç›´æ¥å¯¹æ¥ TMDB å®˜æ–¹ APIï¼Œæ”¯æŒæŒ‡å®šè¯­è¨€æŠ“å–æˆ–å…¨è¯­è¨€ (All Translations) æ¨¡å¼æŠ“å–ã€‚
*   **å¤šçº§é€’å½’é€è§†**ï¼šæ”¯æŒå¯¹å‰§é›† (TV) è¿›è¡Œæ·±åº¦é€’å½’ï¼Œä¸€é”®è·å–åŒ…å«æ‰€æœ‰å­£ã€é›†ä¿¡æ¯çš„â€œè¶…çº§ JSONâ€ã€‚
*   **å•é›†æ·±åº¦æ¢é’ˆ**ï¼šæä¾›é’ˆå¯¹ç‰¹å®šå­£ã€é›†çš„å®æ—¶æ·±åº¦æŠ“å–ï¼Œè·å–åŒ…å«å®¢ä¸²æ¼”å‘˜ã€å‰§ç…§åŠæ‰€æœ‰è¯­è¨€ç¿»è¯‘åœ¨å†…çš„å…¨é‡åŸå§‹æ•°æ®ã€‚
*   **å·¥ä¸šçº§å‚è€ƒè¡¨**ï¼šè‡ªåŠ¨ç”Ÿæˆæµæ´¾ IDã€åˆ¶ä½œå…¬å¸ã€å…³é”®è¯æ± ã€å…¨é‡æ ‡é¢˜æ± åŠåˆ«åæ± å¯¹ç…§è¡¨ï¼Œä¸ºåª’ä½“ç²¾ç»†åŒ–åˆ†æ‹£æä¾›æƒå¨å…ƒæ•°æ®å‚è€ƒã€‚

### ğŸ§ª Bangumi å®éªŒå®¤ (Bangumi Lab)
*   **å…³é”®è¯æ™ºèƒ½æ£€ç´¢**ï¼šæ”¯æŒæŒ‰åŠ¨ç”»ã€æ¸¸æˆã€ä¹¦ç±ã€ä¸‰æ¬¡å…ƒç­‰åˆ†ç±»è¿›è¡Œå…³é”®è¯æœç´¢ï¼Œå¿«é€Ÿå®šä½æ¡ç›® IDã€‚
*   **å…ƒæ•°æ®æ·±åº¦æ¢é’ˆ**ï¼šè‡ªåŠ¨è§£æ Bangumi (ç•ªç»„è®¡åˆ’) å®˜æ–¹ APIï¼Œæ·±åº¦æå– Infobox (ä¿¡æ¯æ¡†)ã€ç³»ç»Ÿæ ‡ç­¾ (Meta Tags) åŠç”¨æˆ·æ ‡ç­¾ (User Tags)ã€‚
*   **ä¹é«˜æ¨¡å—åŒ–è®¾è®¡**ï¼šé‡‡ç”¨ç»„ä»¶åŒ–æ¶æ„ï¼Œå°†è§’è‰²ã€ç« èŠ‚ã€æ¢é’ˆåŠæœç´¢é¢æ¿å®Œå…¨è§£è€¦ï¼Œæ”¯æŒæé€Ÿå“åº”ä¸ç»“æ„åŒ–é¢„è§ˆã€‚
*   **å…¨é‡æ ‡é¢˜ä¸åˆ«åæ± **ï¼šè‡ªåŠ¨æ•´åˆä¸»æ ‡é¢˜ã€ä¸­æ–‡æ ‡é¢˜ï¼Œå¹¶ä» Infobox å¤æ‚çš„åµŒå¥—ç»“æ„ä¸­å®æ—¶æå–æ‰€æœ‰â€œåˆ«å/åˆåâ€ï¼Œä¸ºè‡ªåŠ¨åŒ–åˆ†æ‹£æä¾›ç²¾å‡†ä¾æ®ã€‚
*   **è§’è‰²ä¸ç« èŠ‚é€è§†**ï¼šæä¾›æ¨ªå‘æ»šåŠ¨çš„è§’è‰²åˆ—è¡¨ï¼ˆå«å¤´åƒä¸ä¸»è§’/é…è§’èº«ä»½ï¼‰åŠè¯¦å°½çš„ç« èŠ‚è¯¦æƒ…é¢„è§ˆï¼Œæ”¯æŒåŸå§‹ JSON å…¨é‡æ•°æ®å¯¼å‡ºã€‚

### ğŸ­ TMDB æ¼”å‘˜å®éªŒå®¤ (Actor Lab)
*   **æ™ºèƒ½æ¯è¯­æ¨æ–­**ï¼šåŸºäºæ¼”å‘˜å‡ºç”Ÿåœ° (Place of Birth) ç»“åˆæ­£åˆ™åŒ¹é…é€»è¾‘ï¼Œè‡ªåŠ¨ä»åˆ«åæ± ä¸­æ¢æµ‹å¹¶æ¨æ–­å…¶çœŸå®çš„æ¯è¯­å§“åã€‚
*   **å…¨è¯­è¨€å§“åæ± **ï¼šä¸€é”®æ•´ç†æ¼”å‘˜åœ¨å…¨çƒå„è¯­è¨€ä¸‹çš„æ‰€æœ‰å·²çŸ¥åˆ«åã€æ›¾ç”¨ååŠè¯‘åï¼Œæ„å»ºå…¨é‡å»é‡å§“åå¯¹æ¯”æ± ã€‚
*   **ä»£è¡¨ä½œé€è§†**ï¼šä»¥ç®€æ´åˆ—è¡¨å½¢å¼å±•ç¤ºæ¼”å‘˜è¯„åˆ†æœ€é«˜çš„æ ¸å¿ƒä»£è¡¨ä½œï¼Œæ”¯æŒåŸå§‹æ ‡é¢˜ä¸ä¸­æ–‡æ ‡é¢˜å¯¹ç…§å±•ç¤ºã€‚
*   **å…¨æ–¹ä½èº«ä»½æ¢æµ‹**ï¼šé›†æˆç”Ÿæ—¥ã€é€ä¸–æ—¥æœŸã€å‡ºç”Ÿåœ°åŠç¤¾äº¤ ID (IMDB/TMDB) çš„æ·±åº¦å®¡è®¡ï¼Œå¹¶æ”¯æŒåŸå§‹ JSON å…¨é‡æ•°æ®å¯¼å‡ºã€‚

### ğŸ‘¤ è´¦å·å®‰å…¨ç®¡ç† (Account Manager)
*   **å…¨å±€è®¤è¯å¼€å…³**ï¼šæ”¯æŒä¸€é”®å¼€å¯æˆ–å…³é—­å‰ç«¯ç™»å½•éªŒè¯ã€‚å…³é—­åç³»ç»Ÿè¿›å…¥â€œå…å¯†æ¨¡å¼â€ï¼Œé€‚åˆå¯ä¿¡å†…ç½‘ç¯å¢ƒï¼›å¼€å¯åæä¾›å·¥ä¸šçº§çš„ç™»å½•ä¿æŠ¤ã€‚
*   **å¤šå› ç´ è®¤è¯ (2FA)**ï¼šå†…ç½®åŒé‡éªŒè¯æ”¯æŒï¼Œå¯ç»‘å®š Google Authenticator æˆ– Microsoft Authenticatorï¼Œä¸ºç®¡ç†å‘˜è´¦æˆ·æä¾›é“¶è¡Œçº§çš„å®‰å…¨é˜²æŠ¤ã€‚
*   **å‡­æ®ç»´æŠ¤**ï¼šæ”¯æŒåœ¨çº¿ä¿®æ”¹ç®¡ç†å‘˜å¯†ç ï¼Œå¹¶å®æ—¶åŒæ­¥è®¤è¯çŠ¶æ€ã€‚

### ğŸ›¡ï¸ å¤–éƒ¨æ§åˆ¶ä½“ç³» (External Control)
*   **API Token æ²»ç†**ï¼šæ”¯æŒç”Ÿæˆã€é‡ç½®åŠæŒä¹…åŒ–ç®¡ç†ç”¨äºç¬¬ä¸‰æ–¹è„šæœ¬æˆ–è‡ªåŠ¨åŒ–å·¥å…·è°ƒç”¨çš„ **Bearer Token**ï¼Œé…ç½®å®æ—¶åŒæ­¥è‡³ `config.json`ã€‚
*   **å…¨é‡å®¡è®¡æ—¥å¿— (Audit Logs)**ï¼š
    *   **æ·±åº¦è®°å½•**ï¼šè‡ªåŠ¨æ•è·æ‰€æœ‰ API è¯·æ±‚çš„æ“ä½œæ–¹æ³•ã€è·¯å¾„ã€æ¥æº IP åŠå¤„ç†è€—æ—¶ã€‚
    *   **éšç§è„±æ•**ï¼šå®¡è®¡ç³»ç»Ÿå†…ç½®è„±æ•å¼•æ“ï¼Œè‡ªåŠ¨å¯¹æ—¥å¿—ä¸­çš„å¯†ç ã€Token ç­‰æ•æ„Ÿå­—æ®µè¿›è¡Œæ©ç å¤„ç†ï¼Œç¡®ä¿å®¡è®¡æ•°æ®çš„å®‰å…¨æ€§ã€‚
    *   **ç‰©ç†æŒä¹…åŒ–**ï¼šæ—¥å¿—ä»¥ JSONL æ ¼å¼æŒ‰æ—¥æŒä¹…åŒ–å­˜å‚¨ï¼Œæ”¯æŒå‰ç«¯å®æ—¶åˆ†é¡µæ£€ç´¢ã€‚
*   **å®‰å…¨ç­–ç•¥é…ç½®**ï¼šæ”¯æŒå¼€å¯/å…³é—­å…¨å±€ API å®¡è®¡ï¼Œæ”¯æŒå¯¹ç‰¹å®šè·¯å¾„è¿›è¡Œå®¡è®¡è±å…ä»¥å‡å°‘æ€§èƒ½å¼€é”€ã€‚
*   **æ²‰æµ¸å¼æ–‡æ¡£ (Interactive API Docs)**ï¼š
    *   **å®šåˆ¶åŒ– UI**ï¼šåŸºäº Swagger UI æ·±åº¦å®šåˆ¶çš„æ·±è‰²ä¸»é¢˜æ–‡æ¡£ï¼Œè§†è§‰ä½“éªŒä¸ä¸»ç³»ç»Ÿé«˜åº¦ç»Ÿä¸€ã€‚
    *   **è‡ªåŠ¨æˆæƒæ³¨å…¥**ï¼šè¿›å…¥æ–‡æ¡£é¡µæ—¶è‡ªåŠ¨ä»ç³»ç»Ÿé…ç½®ä¸­æå– API Token å¹¶æ³¨å…¥è°ƒè¯•å™¨ï¼Œå®ç°â€œé›¶é…ç½®â€ä¸€é”®æµ‹è¯•æ¥å£ã€‚

### ğŸ‘¤ æ¼”å‘˜ä¿¡æ¯ç»´æŠ¤ (Actor Manager)
*   **è‚–åƒä¿®æ­£**ï¼šåŸºäº TMDB æ•°æ®åº“ï¼Œæ‰¹é‡è¡¥å…¨ã€ä¿®æ­£æˆ–æ¸…ç†åª’ä½“åº“ä¸­çš„æ¼”å‘˜è‚–åƒä¸å§“åã€‚

### ğŸ”— Webhook æ¥æ”¶å™¨ (Webhook)
*   **äº‹ä»¶ç›‘å¬**ï¼šå®æ—¶æ¥æ”¶ Emby äº‹ä»¶é€šçŸ¥ï¼Œæ”¯æŒ library.new (æ–°å…¥åº“) ç­‰äº‹ä»¶çš„è‡ªåŠ¨åŒ–è§¦å‘ã€‚

---

## âš¡ å·¥ä¸šçº§æ€§èƒ½ç‰¹æ€§

-   **å…¨å¼‚æ­¥æ¶æ„**ï¼šåŸºäº `FastAPI` + `httpx` çš„å¼‚æ­¥å¼•æ“ï¼Œé«˜å¹¶å‘å¤„ç†åŒæ­¥ã€åˆ†æä¸åˆ é™¤ä»»åŠ¡ï¼ŒUI ä¸æ»‘ä¸å¡é¡¿ã€‚
-   **é€æ˜åŒ–æ—¥å¿—**ï¼šå†…ç½®å®æ—¶æ—¥å¿—æ§åˆ¶å°ï¼Œæ¯ä¸€è¡Œ API è°ƒç”¨ä¸å¤„ç†é€»è¾‘éƒ½æ¸…æ™°å¯è§ã€‚
-   **è½»é‡åŒ–éƒ¨ç½²**ï¼šæ— éœ€æ•°æ®åº“ï¼Œæ‰€æœ‰è§„åˆ™ä¸é…ç½®é€æ˜å­˜å‚¨äº JSON æ–‡ä»¶ä¸­ã€‚
-   **æ·±åº¦ TMDB é›†æˆ**ï¼šæ”¯æŒè‡ªåŠ¨åŒ–å›½å®¶ä»£ç è½¬æ¢ï¼ˆISO -> ä¸­æ–‡ï¼‰ä¸ç±»å‹ ID åŒ¹é…ã€‚

---

## ğŸ—ï¸ æŠ€æœ¯æ ˆ

-   **å‰ç«¯**: Vue 3 (Composition API) + Vite + TypeScript + Naive UI
-   **åç«¯**: Python 3.10 + FastAPI + Docker SDK + Paramiko + psycopg (v3) + httpx
-   **å›¾æ ‡**: Material Design Icons (@vicons/material)

---

## ğŸš€ å¿«é€Ÿéƒ¨ç½²

### æ–¹å¼ä¸€ï¼šé•œåƒç›´æ¥éƒ¨ç½² (æ¨è)
å¦‚æœä½ ä¸éœ€è¦ä¿®æ”¹ä»£ç ï¼Œç›´æ¥ä½¿ç”¨ Docker Hub ä¸Šçš„é¢„æ„å»ºé•œåƒï¼š

1.  **ä¸‹è½½é…ç½®**ï¼šä¿å­˜ä»¥ä¸‹å†…å®¹ä¸º `docker-compose.yml`ï¼š
    ```yaml
    version: '3.8'
    services:
      lens:
        image: pipi20xx/lens:latest
        container_name: lens
        network_mode: bridge
        ports:
          - "6565:6565"
        volumes:
          - ./data:/app/data
        environment:
          - DATABASE_URL=sqlite+aiosqlite:////app/data/lens.db
          - TZ=Asia/Shanghai
        restart: always
    ```
2.  **å¯åŠ¨æœåŠ¡**ï¼š`docker-compose up -d`
3.  **è®¿é—®ç³»ç»Ÿ**ï¼šæµè§ˆå™¨æ‰“å¼€ `http://localhost:6565`

### æ–¹å¼äºŒï¼šæºç ç¼–è¯‘éƒ¨ç½²
å¦‚æœä½ éœ€è¦è¿›è¡ŒäºŒæ¬¡å¼€å‘æˆ–è‡ªå®šä¹‰ï¼š

1.  **å…‹éš†ä»£ç **ï¼š`git clone ...`
2.  **å¯åŠ¨æœåŠ¡**ï¼š`docker-compose up -d --build`

### ğŸ› ï¸ åˆå§‹é…ç½®æ­¥éª¤
1.  **å®‰å…¨è®¾ç½®**ï¼šé¦–æ¬¡éƒ¨ç½²å»ºè®®å‰å¾€â€œè´¦å·å®‰å…¨ç®¡ç†â€ä¿®æ”¹é»˜è®¤å¯†ç  (`admin123`) å¹¶å»ºè®®å¼€å¯ 2FAã€‚
2.  **ç¯å¢ƒé›†æˆ**ï¼šå‰å¾€â€œç³»ç»Ÿè®¾ç½®â€ï¼Œå¡«å…¥ Emby URL å’Œ API Keyã€‚
3.  **åˆ·æ–°ç´¢å¼•**ï¼šè¿›å…¥å¯¹åº”å·¥å…·ï¼ˆå¦‚é‡å¤é¡¹æ¸…ç†ï¼‰ï¼Œç‚¹å‡»â€œä» Emby åŒæ­¥â€ã€‚
4.  **å¤–éƒ¨å¯¹æ¥**ï¼šå¦‚éœ€å¤–éƒ¨è„šæœ¬è°ƒç”¨ï¼Œåœ¨â€œå¤–éƒ¨æ§åˆ¶ä½“ç³»â€ç”Ÿæˆ API Tokenã€‚

---

## ğŸ™ è‡´è°¢

æœ¬é¡¹ç›®çš„è®¾è®¡å’ŒåŠŸèƒ½å—åˆ°äº†ä»¥ä¸‹ä¼˜ç§€é¡¹ç›®çš„å¯å‘ï¼Œç‰¹æ­¤æ„Ÿè°¢ï¼š

- [kuroyukihime0/emby_scripts](https://github.com/kuroyukihime0/emby_scripts)

